{"ast":null,"code":"import _regeneratorRuntime from \"D:/Node.js-React/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/Node.js-React/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"D:/Node.js-React/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"D:/Node.js-React/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"D:/Node.js-React/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"D:\\\\Node.js-React\\\\client\\\\src\\\\Pages\\\\StartPage\\\\Auth.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { Button, Card, Container, Form } from \"react-bootstrap\";\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { LOGIN_ROUTE, REGISTRATION_ROUTE, HOME_ROUTE } from \"../../utils/consts\";\nimport { createUser } from \"../../Services/RegistrationService\";\nimport { loginUser } from \"../../Services/loginService\";\nimport { Context } from \"../../index\";\nimport '../../Styles/Pages/StartPage/Auth.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Auth = function Auth() {\n  _s();\n  var _useContext = useContext(Context),\n    user = _useContext.user;\n  var location = useLocation();\n  var navigate = useNavigate();\n  var isLogin = location.pathname === LOGIN_ROUTE;\n  var _useState = useState({\n      username: '',\n      email: '',\n      password: '',\n      role: 'Пользователь'\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    formData = _useState2[0],\n    setFormData = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    errors = _useState4[0],\n    setErrors = _useState4[1];\n  var handleButtonClick = function handleButtonClick() {\n    navigate(isLogin ? REGISTRATION_ROUTE : LOGIN_ROUTE);\n  };\n  var validateForm = function validateForm() {\n    var newErrors = {};\n    if (!isLogin && !formData.username.trim()) newErrors.username = 'Имя пользователя обязательно';\n    if (!isLogin && !formData.email.trim()) newErrors.email = 'Email обязателен';\n    if (!isLogin && !/\\S+@\\S+\\.\\S+/.test(formData.email)) newErrors.email = 'Некорректный формат email';\n    if (formData.email.length > 30) newErrors.email = 'Email должен быть не более 30 символов';\n    if (!formData.password.trim()) newErrors.password = 'Пароль обязателен';\n    if (formData.password.length < 8) newErrors.password = 'Пароль должен быть не менее 8 символов';\n    if (formData.password.length > 15) newErrors.password = 'Пароль должен быть не более 15 символов';\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value;\n\n    // Ограничение длины для email и password\n    if (name === 'email' && value.length > 30) return;\n    if (name === 'password' && value.length > 15) return;\n    setFormData(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, name, value));\n    });\n    if (errors[name]) {\n      setErrors(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, name, ''));\n      });\n    }\n  };\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n      var now, registrationDate, roleToRoleID, userData, result;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            if (validateForm()) {\n              _context.next = 3;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 3:\n            now = new Date();\n            registrationDate = \"\".concat(now.getFullYear(), \"-\").concat(String(now.getMonth() + 1).padStart(2, '0'), \"-\").concat(String(now.getDate()).padStart(2, '0'), \" \").concat(String(now.getHours()).padStart(2, '0'), \":\").concat(String(now.getMinutes()).padStart(2, '0'), \":\").concat(String(now.getSeconds()).padStart(2, '0'));\n            roleToRoleID = {\n              \"Пользователь\": 1,\n              \"Редактор\": 2,\n              \"Администратор\": 3\n            };\n            userData = isLogin ? {\n              Email: formData.email,\n              Password: formData.password\n            } : {\n              Username: formData.username,\n              Email: formData.email,\n              Password: formData.password,\n              RegistrationDate: registrationDate,\n              RoleID: roleToRoleID[formData.role] || 1\n            };\n            _context.prev = 7;\n            if (!isLogin) {\n              _context.next = 14;\n              break;\n            }\n            _context.next = 11;\n            return loginUser(userData);\n          case 11:\n            _context.t0 = _context.sent;\n            _context.next = 17;\n            break;\n          case 14:\n            _context.next = 16;\n            return createUser(userData);\n          case 16:\n            _context.t0 = _context.sent;\n          case 17:\n            result = _context.t0;\n            alert(isLogin ? 'Успешный вход!' : 'Успешно зарегистрировано!');\n            console.log(isLogin ? 'Пользователь успешно вошел:' : 'Пользователь успешно создан:', result);\n            if (isLogin) {\n              localStorage.setItem('token', result.token);\n              localStorage.setItem('username', result.username);\n              localStorage.setItem('userID', result.userID);\n              localStorage.setItem('roleID', result.roleID);\n              user.setIsAuth(true);\n              user.setUser({\n                username: result.username,\n                userID: result.userID,\n                roleID: result.roleID\n              });\n              navigate(HOME_ROUTE);\n            } else {\n              setFormData({\n                username: '',\n                email: '',\n                password: '',\n                role: 'Пользователь'\n              });\n              setErrors({});\n              navigate(LOGIN_ROUTE);\n            }\n            _context.next = 27;\n            break;\n          case 23:\n            _context.prev = 23;\n            _context.t1 = _context[\"catch\"](7);\n            console.error(\"Ошибка: \", _context.t1.message);\n            alert(_context.t1.message);\n          case 27:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[7, 23]]);\n    }));\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"auth-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"auth-title\",\n        children: isLogin ? 'Авторизация' : 'Регистрация'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"auth-form\",\n        onSubmit: handleSubmit,\n        children: [!isLogin && /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"auth-form-group\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"auth-input \".concat(errors.username ? 'is-invalid' : ''),\n            placeholder: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F...\",\n            name: \"username\",\n            value: formData.username,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 29\n          }, _this), errors.username && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 49\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"auth-form-group\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"auth-input \".concat(errors.email ? 'is-invalid' : ''),\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 Email...\",\n            name: \"email\",\n            value: formData.email,\n            onChange: handleChange,\n            maxLength: 30\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, _this), errors.email && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 42\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"auth-form-group\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"auth-input \".concat(errors.password ? 'is-invalid' : ''),\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u041F\\u0430\\u0440\\u043E\\u043B\\u044C...\",\n            type: \"password\",\n            name: \"password\",\n            value: formData.password,\n            onChange: handleChange,\n            maxLength: 15\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, _this), errors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            children: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 45\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, _this), !isLogin && /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"auth-form-group\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"\\u0420\\u043E\\u043B\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 29\n          }, _this), /*#__PURE__*/_jsxDEV(Form.Select, {\n            className: \"auth-input\",\n            name: \"role\",\n            value: formData.role,\n            onChange: handleChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\",\n              children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 33\n            }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u043E\\u0440\",\n              children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u043E\\u0440\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 33\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"auth-button\",\n          type: \"submit\",\n          children: isLogin ? 'Войти' : 'Зарегистрироваться'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-switch\",\n          onClick: handleButtonClick,\n          children: isLogin ? /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"u\", {\n              children: \"\\u041D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 36\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 29\n          }, _this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(\"u\", {\n              children: \"\\u0415\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 35\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, _this);\n};\n_s(Auth, \"nXSBiEcVlT/fEV/+9IoMJHGCLEw=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Auth;\nexport default Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["React","useState","useContext","Button","Card","Container","Form","useLocation","useNavigate","LOGIN_ROUTE","REGISTRATION_ROUTE","HOME_ROUTE","createUser","loginUser","Context","jsxDEV","_jsxDEV","Auth","_s","_useContext","user","location","navigate","isLogin","pathname","_useState","username","email","password","role","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","errors","setErrors","handleButtonClick","validateForm","newErrors","trim","test","length","Object","keys","handleChange","e","_e$target","target","name","value","prev","_objectSpread","_defineProperty","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","now","registrationDate","roleToRoleID","userData","result","wrap","_callee$","_context","next","preventDefault","abrupt","Date","concat","getFullYear","String","getMonth","padStart","getDate","getHours","getMinutes","getSeconds","Email","Password","Username","RegistrationDate","RoleID","t0","sent","alert","console","log","localStorage","setItem","token","userID","roleID","setIsAuth","setUser","t1","error","message","stop","_x","apply","arguments","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","onSubmit","Group","Control","placeholder","onChange","maxLength","type","Label","Select","onClick","_c","$RefreshReg$"],"sources":["D:/Node.js-React/client/src/Pages/StartPage/Auth.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Button, Card, Container, Form } from \"react-bootstrap\";\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { LOGIN_ROUTE, REGISTRATION_ROUTE, HOME_ROUTE } from \"../../utils/consts\";\r\nimport { createUser } from \"../../Services/RegistrationService\";\r\nimport { loginUser } from \"../../Services/loginService\";\r\nimport { Context } from \"../../index\";\r\nimport '../../Styles/Pages/StartPage/Auth.css';\r\n\r\nconst Auth = () => {\r\n    const { user } = useContext(Context);\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const isLogin = location.pathname === LOGIN_ROUTE;\r\n\r\n    const [formData, setFormData] = useState({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        role: 'Пользователь'\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const handleButtonClick = () => {\r\n        navigate(isLogin ? REGISTRATION_ROUTE : LOGIN_ROUTE);\r\n    };\r\n\r\n    const validateForm = () => {\r\n        const newErrors = {};\r\n\r\n        if (!isLogin && !formData.username.trim()) newErrors.username = 'Имя пользователя обязательно';\r\n        if (!isLogin && !formData.email.trim()) newErrors.email = 'Email обязателен';\r\n        if (!isLogin && !/\\S+@\\S+\\.\\S+/.test(formData.email)) newErrors.email = 'Некорректный формат email';\r\n        if (formData.email.length > 30) newErrors.email = 'Email должен быть не более 30 символов';\r\n        if (!formData.password.trim()) newErrors.password = 'Пароль обязателен';\r\n        if (formData.password.length < 8) newErrors.password = 'Пароль должен быть не менее 8 символов';\r\n        if (formData.password.length > 15) newErrors.password = 'Пароль должен быть не более 15 символов';\r\n\r\n        setErrors(newErrors);\r\n        return Object.keys(newErrors).length === 0;\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n\r\n        // Ограничение длины для email и password\r\n        if (name === 'email' && value.length > 30) return;\r\n        if (name === 'password' && value.length > 15) return;\r\n\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n        if (errors[name]) {\r\n            setErrors(prev => ({ ...prev, [name]: '' }));\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!validateForm()) return;\r\n\r\n        const now = new Date();\r\n        const registrationDate = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}:${String(now.getSeconds()).padStart(2, '0')}`;\r\n\r\n        const roleToRoleID = {\r\n            \"Пользователь\": 1,\r\n            \"Редактор\": 2,\r\n            \"Администратор\": 3\r\n        };\r\n\r\n        const userData = isLogin\r\n            ? { Email: formData.email, Password: formData.password }\r\n            : {\r\n                Username: formData.username,\r\n                Email: formData.email,\r\n                Password: formData.password,\r\n                RegistrationDate: registrationDate,\r\n                RoleID: roleToRoleID[formData.role] || 1\r\n            };\r\n\r\n        try {\r\n            const result = isLogin\r\n                ? await loginUser(userData)\r\n                : await createUser(userData);\r\n\r\n            alert(isLogin ? 'Успешный вход!' : 'Успешно зарегистрировано!');\r\n            console.log(isLogin ? 'Пользователь успешно вошел:' : 'Пользователь успешно создан:', result);\r\n\r\n            if (isLogin) {\r\n                localStorage.setItem('token', result.token);\r\n                localStorage.setItem('username', result.username);\r\n                localStorage.setItem('userID', result.userID);\r\n                localStorage.setItem('roleID', result.roleID);\r\n\r\n                user.setIsAuth(true);\r\n                user.setUser({ username: result.username, userID: result.userID, roleID: result.roleID });\r\n\r\n                navigate(HOME_ROUTE);\r\n            } else {\r\n                setFormData({\r\n                    username: '',\r\n                    email: '',\r\n                    password: '',\r\n                    role: 'Пользователь'\r\n                });\r\n                setErrors({});\r\n                navigate(LOGIN_ROUTE);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Ошибка: \", error.message);\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container className=\"auth-container\">\r\n            <Card className=\"auth-card\">\r\n                <h2 className=\"auth-title\">{isLogin ? 'Авторизация' : 'Регистрация'}</h2>\r\n                <Form className=\"auth-form\" onSubmit={handleSubmit}>\r\n                    {!isLogin && (\r\n                        <Form.Group className=\"auth-form-group\">\r\n                            <Form.Control\r\n                                className={`auth-input ${errors.username ? 'is-invalid' : ''}`}\r\n                                placeholder=\"Имя пользователя...\"\r\n                                name=\"username\"\r\n                                value={formData.username}\r\n                                onChange={handleChange}\r\n                            />\r\n                            {errors.username && <div className=\"invalid-feedback\">{errors.username}</div>}\r\n                        </Form.Group>\r\n                    )}\r\n\r\n                    <Form.Group className=\"auth-form-group\">\r\n                        <Form.Control\r\n                            className={`auth-input ${errors.email ? 'is-invalid' : ''}`}\r\n                            placeholder=\"Введите Email...\"\r\n                            name=\"email\"\r\n                            value={formData.email}\r\n                            onChange={handleChange}\r\n                            maxLength={30}\r\n                        />\r\n                        {errors.email && <div className=\"invalid-feedback\">{errors.email}</div>}\r\n                    </Form.Group>\r\n\r\n                    <Form.Group className=\"auth-form-group\">\r\n                        <Form.Control\r\n                            className={`auth-input ${errors.password ? 'is-invalid' : ''}`}\r\n                            placeholder=\"Введите Пароль...\"\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value={formData.password}\r\n                            onChange={handleChange}\r\n                            maxLength={15}\r\n                        />\r\n                        {errors.password && <div className=\"invalid-feedback\">{errors.password}</div>}\r\n                    </Form.Group>\r\n\r\n                    {!isLogin && (\r\n                        <Form.Group className=\"auth-form-group\">\r\n                            <Form.Label>Роль</Form.Label>\r\n                            <Form.Select\r\n                                className=\"auth-input\"\r\n                                name=\"role\"\r\n                                value={formData.role}\r\n                                onChange={handleChange}\r\n                            >\r\n                                <option value=\"Пользователь\">Пользователь</option>\r\n                                <option value=\"Редактор\">Редактор</option>\r\n                            </Form.Select>\r\n                        </Form.Group>\r\n                    )}\r\n\r\n                    <Button className=\"auth-button\" type=\"submit\">\r\n                        {isLogin ? 'Войти' : 'Зарегистрироваться'}\r\n                    </Button>\r\n\r\n                    <div className=\"auth-switch\" onClick={handleButtonClick}>\r\n                        {isLogin ? (\r\n                            <span> <u>Нет аккаунта?</u></span>\r\n                        ) : (\r\n                            <span><u>Есть аккаунт?</u></span>\r\n                        )}\r\n                    </div>\r\n                </Form>\r\n            </Card>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Auth;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}